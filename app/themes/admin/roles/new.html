{% extends '../layout.html' %}
{% block cssExtends %}
    <link rel="stylesheet" href="/admin/plugins/select2/select2.css"/>
{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-md-12">
            <form id="edit-form" method="post" role="form">

                {% include '../toolbar.html' %}

                <div class="box box-primary">
                    <div class="box-body">
                        <div class="form-group">
                            <label for="title">Role Name: *</label>

                            <input type="text" class="form-control" name="title"
                                   placeholder="" value="{{ role.name }}" required>

                        </div>

                        <div class="form-group">
                            <label for="status">Status: *</label>
                            <select class="table-group-action-input form-control"
                                    name="status" required>
                                <option {% if role.status == 'publish' %}selected="selected" {% endif %}
                                        value="publish">Published
                                </option>
                                <option {% if role.status == 'un-publish' %}selected="selected" {% endif %}
                                        value="un-publish">Not Published
                                </option>
                            </select>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                {% for module in modules %}
                                    <div class="col-md-3 col-sm-3" style="min-height: 135px;">
                                        {% set key = loop.key %}
                                        <div class="form-group">
                                            <label>{{ module.title }}</label>

                                            {% for rule in module.rules %}
                                                <div class="checkbox">
                                                    <label><input type="checkbox"
                                                                  name="{{ key }}[]"
                                                                  value="{{ rule.name }}" {{ rules|check_state(key, rule.name) }}>{{ rule.title }}
                                                    </label>
                                                </div>
                                            {% endfor %}


                                        </div>
                                    </div>
                                {% endfor %}

                            </div>
                        </div>
                    </div>
                </div>

            </form>
        </div>

    </div>
{% endblock %}
